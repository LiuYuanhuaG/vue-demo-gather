{"version":3,"file":"js/181.81d516e7.js","mappings":"qQAYA,MAAMA,EAAeC,IACnBC,QAAQC,IAAIF,EAAG,cAAf,E,OAGFG,EAAAA,EAAAA,KAAU,KACR,IAAIC,EACJC,SAASC,iBAAiB,aAAa,SAAUN,GAE/CI,EAAUJ,EAAEO,OAEZ,IAAIC,EAAM,CACRC,KAAM,QAASC,IAAKC,KAAKC,UAE3BZ,EAAEa,aAAaC,QAAQ,yBAA0BC,KAAKC,UAAUR,IAKhER,EAAEO,OAAOU,MAAMC,QAAU,GACzBjB,QAAQC,IAAIF,EACb,IAAE,GACH,IAAImB,EAAWd,SAASe,cAAc,WACtCD,EAASb,iBAAiB,QAASe,IACjCA,EAAMC,iBACND,EAAME,kBACNtB,QAAQC,IAAImB,EAAOjB,EAAS,WAE5BH,QAAQC,IAAI,OAAQmB,EAAMR,aAAaW,QAAQ,2BAI/C,IAAK,MAAMC,KAAKJ,EAAMR,aAAaa,MACjCzB,QAAQC,IAAIuB,EACb,IACA,GACHN,EAASb,iBAAiB,YAAYN,IAGpCA,EAAEsB,gBAAF,GAHF,I,0GC1CF,MAAMK,EAAc,EAEpB,O","sources":["webpack://vue-demo-gather/./src/views/About/Drop.vue","webpack://vue-demo-gather/./src/views/About/Drop.vue?3b56"],"sourcesContent":["\r\n<template>\r\n  <div>\r\n    <button draggable=\"true\" :ondragstart=\"ondragstart\">xxxxx</button>\r\n    <div id=\"abouts\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script setup >\r\n\r\nimport { onMounted } from 'vue'\r\n\r\nconst ondragstart = (e) => {\r\n  console.log(e, 'ondragstart');\r\n}\r\n\r\nonMounted(() => {\r\n  var dragged;\r\n  document.addEventListener(\"dragstart\", function (e) {\r\n    // 保存拖动元素的引用 (ref.)\r\n    dragged = e.target;\r\n    // e.dataTransfer.setData(\"text/plain\", JSON.stringify({ name: \"emily\", age: Math.random(), }));\r\n    let str = {\r\n      name: \"emily\", age: Math.random()\r\n    }\r\n    e.dataTransfer.setData(\"application/x-moz-file\", JSON.stringify(str),);\r\n    // const data = JSON.parse(e.dataTransfer.getData(\"text/plain\"));\r\n    // console.log(data, 'dragstart');\r\n\r\n    // 使其半透明\r\n    e.target.style.opacity = .5;\r\n    console.log(e);\r\n  }, false);\r\n  let dropArea = document.querySelector('#abouts')\r\n  dropArea.addEventListener('drop', (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    console.log(event, dragged, 'dragged');\r\n    // const data = JSON.parse(event.dataTransfer.getData(\"text/plain\"));\r\n    console.log('data', event.dataTransfer.getData(\"application/x-moz-file\"));\r\n    // console.log(event.dataTransfer.items, 'items');\r\n    // console.log(event.dataTransfer.getData(), 'drop');\r\n    let pathArr = [];\r\n    for (const f of event.dataTransfer.items) {\r\n      console.log(f);\r\n    }\r\n  }, false);\r\n  dropArea.addEventListener(\"dragover\", e => {\r\n    // 必须阻止默认事件，这里才会变成可释放区域。\r\n    // 如果不写这一句，那么松手的时候，也不会触发相应的 drop 事件\r\n    e.preventDefault();\r\n  });\r\n})\r\n\r\n</script>\r\n<style lang=\"scss\">\r\n.dem {\r\n  cursor: pointer;\r\n}\r\n\r\n#abouts {\r\n  height: 300px;\r\n  background-color: aqua;\r\n}\r\n</style>","import script from \"./Drop.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Drop.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Drop.vue?vue&type=style&index=0&id=85e77a1a&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["ondragstart","e","console","log","onMounted","dragged","document","addEventListener","target","str","name","age","Math","random","dataTransfer","setData","JSON","stringify","style","opacity","dropArea","querySelector","event","preventDefault","stopPropagation","getData","f","items","__exports__"],"sourceRoot":""}