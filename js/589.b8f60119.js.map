{"version":3,"file":"js/589.b8f60119.js","mappings":"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","sources":["webpack://vue-demo-gather/./src/views/HelloCanvas/Index.vue","webpack://vue-demo-gather/./src/views/HelloCanvas/Index.vue?cfd8"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-20c71ed9\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"item-1\"\n}, null, -1));\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"item-2\"\n}, null, -1));\n\nimport { ref, onMounted } from \"vue\";\nexport default {\n  __name: 'Index',\n\n  setup(__props) {\n    let canvas = ref(null);\n    let inner = ref(1); // 图片\n\n    const draw = () => {\n      var ctx = document.getElementById(\"canvas\").getContext(\"2d\");\n      var img = new Image();\n\n      img.onload = function () {\n        ctx.drawImage(img, 0, 0, 1920, 1080); // ctx.drawImage(img, 500, 500, 1660, 900);\n        // ctx.beginPath();\n        // ctx.moveTo(30, 96);\n        // ctx.lineTo(70, 66);\n        // ctx.lineTo(103, 76);\n        // ctx.lineTo(170, 15);\n        // ctx.stroke();\n      };\n\n      img.src = require(\"@/assets/infinity-37896.png\");\n    }; // 全景图片\n\n\n    function init() {\n      var img = new Image(); // User Variables - customize these to change the image being scrolled, its\n      // direction, and the speed.\n\n      img.src = require(\"@/assets/infinity-37896.png\");\n      var CanvasXSize = 800;\n      var CanvasYSize = 200;\n      var speed = 30; // lower is faster\n\n      var scale = 1.05;\n      var y = -4.5; // vertical offset\n      // Main program\n\n      var dx = 0.75;\n      var imgW;\n      var imgH;\n      var x = 0;\n      var clearX;\n      var clearY;\n      let ctx;\n\n      img.onload = function () {\n        imgW = 1920;\n        imgH = 1080;\n\n        if (imgW > CanvasXSize) {\n          // image larger than canvas\n          x = CanvasXSize - imgW;\n        }\n\n        if (imgW > CanvasXSize) {\n          // image width larger than canvas\n          clearX = imgW;\n        } else {\n          clearX = CanvasXSize;\n        }\n\n        if (imgH > CanvasYSize) {\n          // image height larger than canvas\n          clearY = imgH;\n        } else {\n          clearY = CanvasYSize;\n        } // get canvas context\n\n\n        ctx = document.getElementById(\"canvas\").getContext(\"2d\"); // set refresh rate\n        // window.cancelAnimationFrame(draws);\n\n        inner.value = setInterval(draws, speed);\n        return inner.value;\n      };\n\n      function draws() {\n        ctx && ctx.clearRect(0, 0, clearX, clearY); // clear the canvas\n        // if image is <= Canvas Size\n\n        if (imgW <= CanvasXSize) {\n          // reset, start from beginning\n          if (x > CanvasXSize) {\n            x = -imgW + x;\n          } // draw additional image1\n\n\n          if (x > 0) {\n            ctx.drawImage(img, -imgW + x, y, imgW, imgH);\n          } // draw additional image2\n\n\n          if (x - imgW > 0) {\n            ctx.drawImage(img, -imgW * 2 + x, y, imgW, imgH);\n          }\n        } // image is > Canvas Size\n        else {\n          // reset, start from beginning\n          if (x > CanvasXSize) {\n            x = CanvasXSize - imgW;\n          } // draw aditional image\n\n\n          if (x > CanvasXSize - imgW) {\n            ctx.drawImage(img, x - imgW + 1, y, imgW, imgH);\n          }\n        } // draw image\n\n\n        ctx.drawImage(img, x, y, imgW, imgH); // amount to move\n\n        x += dx;\n      }\n    } // 万花筒\n\n\n    function initMu() {\n      var cn; //= document.getElementById('cw');\n\n      var c;\n      var u = 10;\n      const m = {\n        x: innerWidth / 2,\n        y: innerHeight / 2\n      };\n\n      window.onmousemove = function (e) {\n        m.x = e.clientX;\n        m.y = e.clientY;\n      };\n\n      function gc() {\n        var s = \"0123456789ABCDEF\";\n        var c = \"#\";\n\n        for (var i = 0; i < 6; i++) {\n          c += s[Math.ceil(Math.random() * 15)];\n        }\n\n        return c;\n      }\n\n      var a = [];\n\n      function myfunction() {\n        cn = document.getElementById(\"canvas\");\n        c = cn.getContext(\"2d\");\n\n        for (var i = 0; i < 10; i++) {\n          var r = 30;\n          var x = Math.random() * (innerWidth - 2 * r) + r;\n          var y = Math.random() * (innerHeight - 2 * r) + r;\n          var t = new ob(innerWidth / 2, innerHeight / 2, 5, \"red\", Math.random() * 200 + 20, 2);\n          a.push(t);\n        } //cn.style.backgroundColor = \"#700bc8\";\n\n\n        c.lineWidth = \"2\";\n        c.globalAlpha = 0.5;\n        resize();\n        anim();\n      }\n\n      window.onresize = function () {\n        resize();\n      };\n\n      function resize() {\n        cn.height = innerHeight;\n        cn.width = innerWidth;\n\n        for (var i = 0; i < 101; i++) {\n          var r = 30;\n          var x = Math.random() * (innerWidth - 2 * r) + r;\n          var y = Math.random() * (innerHeight - 2 * r) + r;\n          a[i] = new ob(innerWidth / 2, innerHeight / 2, 4, gc(), Math.random() * 200 + 20, 0.02);\n        } //  a[0] = new ob(innerWidth / 2, innerHeight / 2, 40, \"red\", 0.05, 0.05);\n        //a[0].dr();\n\n      }\n\n      function ob(x, y, r, cc, o, s) {\n        this.x = x;\n        this.y = y;\n        this.r = r;\n        this.cc = cc;\n        this.theta = Math.random() * Math.PI * 2;\n        this.s = s;\n        this.o = o;\n        this.t = Math.random() * 150;\n        this.o = o;\n\n        this.dr = function () {\n          const ls = {\n            x: this.x,\n            y: this.y\n          };\n          this.theta += this.s;\n          this.x = m.x + Math.cos(this.theta) * this.t;\n          this.y = m.y + Math.sin(this.theta) * this.t;\n          c.beginPath();\n          c.lineWidth = this.r;\n          c.strokeStyle = this.cc;\n          c.moveTo(ls.x, ls.y);\n          c.lineTo(this.x, this.y);\n          c.stroke();\n          c.closePath();\n        };\n      }\n\n      myfunction();\n\n      function anim() {\n        inner.value = requestAnimationFrame(anim);\n        c.fillStyle = \"rgba(0,0,0,0.05)\"; // c.fillRect(0, 0, cn.width, cn.height);\n\n        a.forEach(function (e, i) {\n          e.dr();\n        });\n      }\n    } // 简单旋转\n\n\n    function draws() {\n      var canvas = document.getElementById(\"canvas\");\n      let width = window.screen.width / 3,\n          height = window.screen.height / 3;\n      var width1 = width + (Math.random() > 0.49 ? 0.5 : -0.5);\n      var height1 = height + (Math.random() > 0.49 ? 0.5 : -0.5);\n      var width2 = width + (Math.random() > 0.49 ? 1.5 : -0.5);\n      var height2 = height + (Math.random() > 0.49 ? 1.5 : -2.5);\n      var ctx = canvas.getContext(\"2d\");\n      var a = [];\n\n      for (var i = 0; i < 10; i++) {\n        var t = new ob(innerWidth / 2, innerHeight / 2, 8, gc(), Math.random() * 200 + 20, 0.025);\n        a.push(t);\n      }\n\n      anims();\n\n      function ob(x, y, r, cc, o, s) {\n        this.x = x;\n        this.y = y;\n        this.r = r;\n        this.cc = cc;\n        this.theta = Math.random() * Math.PI * 2;\n        this.s = s;\n        this.o = o;\n        this.t = Math.random() * 150;\n        this.o = o;\n\n        this.dr = function () {\n          const ls = {\n            x: this.x,\n            y: this.y\n          };\n          this.theta += this.s;\n          this.x = innerWidth / 2 + Math.cos(this.theta) * this.t;\n          this.y = innerHeight / 2 + Math.sin(this.theta) * this.t;\n          ctx.beginPath();\n          ctx.lineWidth = this.r;\n          ctx.strokeStyle = this.cc;\n          ctx.moveTo(ls.x, ls.y);\n          ctx.lineTo(this.x, this.y);\n          ctx.stroke();\n          ctx.closePath();\n        };\n      }\n\n      function gc() {\n        var s = \"0123456789ABCDEF\";\n        var c = \"#\";\n\n        for (var i = 0; i < 6; i++) {\n          c += s[Math.ceil(Math.random() * 15)];\n        }\n\n        return c;\n      }\n\n      function anims() {\n        window.requestAnimationFrame(anims);\n\n        if (canvas.getContext) {\n          // height2 += Math.random() > 0.49 ? 0.5 : -0.5;\n          // height1 += Math.random() > 0.49 ? 0.5 : -0.5;\n          // width1 += Math.random() > 0.49 ? 0.5 : -0.5;\n          // width2 += Math.random() > 0.49 ? 0.5 : -0.5;\n          // // console.log(height1, \"height1\");\n          // ctx.clearRect(0, 0, canvas.width, canvas.height);\n          // ctx.beginPath();\n          // ctx.font = \"10px serif\";\n          // ctx.fillText(\"王庆昊\", width1 + 13, height1 + 8);\n          // ctx.fillStyle = \"green\";\n          // ctx.fillRect(width1, height1, 10, 10);\n          // // ctx.save();\n          // ctx.font = \"10px serif red\";\n          // ctx.fillText(\"王庆昊李\", width2 + 13, height2 + 8);\n          // ctx.fillStyle = \"red\";\n          // ctx.fillRect(width2, height2, 10, 10);\n          // ctx.fill();\n          ctx.fillStyle = \"rgba(0,0,0,0.05)\";\n          ctx.clearRect(0, 0, innerWidth, innerHeight);\n          a.forEach(function (e, i) {\n            e.dr();\n          });\n        }\n      }\n    }\n\n    function clearCanvas(params) {\n      clearInterval(inner.value);\n      cancelAnimationFrame(inner.value);\n      let theCanvas = document.getElementById(\"canvas\");\n      let context = theCanvas.getContext(\"2d\");\n      var w = theCanvas.width;\n      var h = theCanvas.height;\n      context.clearRect(0, 0, w, h);\n    }\n\n    function handleChange(params) {\n      clearCanvas();\n      params();\n    }\n\n    onMounted(() => {\n      // 在这里调用\n      // draw();\n      // init();\n      // initMu();\n      // draws();\n      // call\n      var arr = [{\n        name: \"zs\",\n        age: 1\n      }, {\n        name: \"l4\",\n        age: 2\n      }, {\n        name: \"w5\",\n        age: 3\n      }, {\n        name: \"ss\",\n        age: 4\n      }];\n      var obj = {\n        name: \"thisArg\",\n        age: 2222\n      }; // arr.forEach(function (item, index, arr) {\n      //   console.log(item, index, arr, this);\n      // }, obj)\n\n      Array.prototype.myForEach = function (cb) {\n        var _arr = this;\n\n        var _len = _arr.length;\n\n        var _arg2 = arguments[1] || window;\n\n        for (let i = 0; i < _len; i++) {\n          cb.apply(_arg2, [_arr[i], i, _arr]);\n        }\n      };\n\n      arr.myForEach((item, index, arr) => {\n        console.log(item, index, arr, this);\n      }, obj);\n    });\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", {\n        onClick: _cache[0] || (_cache[0] = $event => handleChange(draw))\n      }, \"图片\"), _createElementVNode(\"div\", {\n        onClick: _cache[1] || (_cache[1] = $event => handleChange(init))\n      }, \"全景图片\"), _createElementVNode(\"div\", {\n        onClick: _cache[2] || (_cache[2] = $event => handleChange(initMu))\n      }, \"万花筒\"), _createElementVNode(\"canvas\", {\n        ref_key: \"canvas\",\n        ref: canvas,\n        id: \"canvas\",\n        width: \"1920\",\n        height: \"1080\"\n      }, null, 512), _hoisted_1, _hoisted_2]);\n    };\n  }\n\n};","/* unplugin-vue-components disabled */import script from \"./Index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=20c71ed9&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\mycode\\\\vue-demo-gather\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-20c71ed9\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_hoisted_1","_","id","_hoisted_2","__name","setup","__props","canvas","inner","draw","ctx","document","getElementById","getContext","img","Image","onload","drawImage","src","init","imgW","imgH","clearX","clearY","CanvasXSize","CanvasYSize","speed","y","dx","x","draws","clearRect","value","setInterval","initMu","cn","c","m","innerWidth","innerHeight","gc","s","i","Math","ceil","random","window","onmousemove","e","clientX","clientY","a","myfunction","r","t","ob","push","lineWidth","globalAlpha","resize","anim","height","width","cc","o","this","theta","PI","dr","ls","cos","sin","beginPath","strokeStyle","moveTo","lineTo","stroke","closePath","requestAnimationFrame","fillStyle","forEach","onresize","clearCanvas","params","clearInterval","cancelAnimationFrame","theCanvas","context","w","h","handleChange","arr","name","age","obj","Array","prototype","myForEach","cb","_arr","_len","length","_arg2","arguments","apply","item","index","console","log","_ctx","_cache","onClick","$event","ref_key","ref","__exports__"],"sourceRoot":""}